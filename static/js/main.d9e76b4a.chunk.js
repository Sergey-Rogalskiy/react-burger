(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{108:function(e,t,r){},11:function(e,t,r){e.exports={overflow:"order-feed_overflow__3c-hW",card:"order-feed_card__2mkcD",flex_row:"order-feed_flex_row__1gpPt",img:"order-feed_img__13Cyg",done:"order-feed_done__1xqH4",images:"order-feed_images__1WZr4",round:"order-feed_round__1xOL-",flex_center:"order-feed_flex_center__BSHlr",done_clr:"order-feed_done_clr__3M270",shinny_clr:"order-feed_shinny_clr__1bUSa",list_inner:"order-feed_list_inner__1-kYb"}},16:function(e,t,r){e.exports={flex:"burger-constructor_flex__1sKPk",center:"burger-constructor_center__3PTIj",test:"burger-constructor_test__2sBX3",confirm_block:"burger-constructor_confirm_block__u6TDE",overflow:"burger-constructor_overflow__31Lzu",fixed_items:"burger-constructor_fixed_items__BRB9Z",total:"burger-constructor_total__AcK3H",template:"burger-constructor_template__TVVUi"}},187:function(e,t,r){},188:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(32),s=r.n(c),i=(r(108),r(13)),o=r(5),l=r(12),u=r(7),d=r(24),j=r.n(d),m=r(41),b=m.c,p=function(){return Object(m.b)()},x=r(0),_=function(){var e=Object(l.h)().pathname,t=b((function(e){return e.registration.user}));return Object(x.jsx)("header",{className:j.a.header,children:Object(x.jsxs)("div",{className:j.a.header__inner,children:[Object(x.jsxs)("nav",{className:j.a.nav,children:[Object(x.jsxs)(u.c,{className:j.a.nav__link,activeClassName:j.a.active,to:"/",exact:!0,children:[Object(x.jsx)(o.BurgerIcon,{type:"/"===e?"primary":"secondary"}),Object(x.jsx)("span",{className:"p-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(x.jsxs)(u.c,{className:j.a.nav__link,activeClassName:j.a.active,to:"/feed",children:[Object(x.jsx)(o.ListIcon,{type:"/feed"===e?"primary":"secondary"}),Object(x.jsx)("span",{className:"p-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(x.jsx)("div",{className:j.a.header__logo,children:Object(x.jsx)(o.Logo,{})}),Object(x.jsx)("nav",{className:j.a.nav,children:Object(x.jsxs)(u.c,{className:j.a.nav__link,activeClassName:j.a.active,to:"/profile",children:[Object(x.jsx)(o.ProfileIcon,{type:"/profile"===e?"primary":"secondary"}),Object(x.jsx)("span",{className:"p-2",children:t?t.name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},O=r(94),f=r.n(O),h=function(e){return Object(x.jsx)("div",{className:f.a.modal_overlay,onClick:e.onClose})},g=r(72),v=r.n(g),y=document.getElementById("react-modals"),N=function(e){var t=e.children,r=e.header,n=e.onClose;return s.a.createPortal(Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h,{onClose:n}),Object(x.jsxs)("div",{className:v.a.modal,id:"modal",children:[Object(x.jsxs)("h1",{className:v.a.header,children:[r,Object(x.jsx)(o.CloseIcon,{type:"primary",onClick:n})]}),t]})]}),y)},E=r.p+"static/media/order-done.db76bd81.svg",w=r(50),T=r.n(w),S=function(){var e=b((function(e){return e.burgerConstructor.order}));return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsxs)("div",{className:T.a.main,children:[Object(x.jsx)("p",{className:"".concat(T.a.wrapped," text text_type_digits-large"),children:e.order.number}),Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(x.jsx)("img",{className:T.a.image,src:E,alt:"Done!"}),Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):Object(x.jsx)("div",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043e\u0436\u0438\u0434\u0430\u0435\u043c \u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430..."})})},C=r(33),R=r.n(C),I=function(e){var t=e.currentItemToView;return Object(x.jsx)(x.Fragment,{children:(null===t||void 0===t?void 0:t.item)?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:R.a.modal,children:[Object(x.jsx)("img",{src:t.item.image,className:R.a.image,alt:"Ingridient"}),Object(x.jsx)("p",{className:"".concat(R.a.name," text text_type_main-medium"),children:t.item.name}),Object(x.jsx)("p",{className:"".concat(R.a.name," text text_type_main-default"),children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 API "}),Object(x.jsxs)("div",{className:"".concat(R.a.grid,"  text_color_inactive pt-5"),children:[Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0439,\u043a\u043a\u0430\u043b"}),Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u0411\u0443\u043b\u043a\u0438,\u0433"}),Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b,\u0433"}),Object(x.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b,\u0433"}),Object(x.jsx)("p",{className:"text text_type_digits-default p-3",children:t.item.calories}),Object(x.jsx)("p",{className:"text text_type_digits-default p-3",children:t.item.proteins}),Object(x.jsx)("p",{className:"text text_type_digits-default p-3",children:t.item.fat}),Object(x.jsx)("p",{className:"text text_type_digits-default p-3",children:t.item.carbohydrates})]})]})}):Object(x.jsx)("div",{children:"\u0414\u0430\u0439 \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u043e \u043c\u0430\u0440\u043c\u044b\u0448\u043a\u0430\u0445"})})},k=r(25),F=r.n(k),D=function(){var e=b((function(e){return e.ingridients.currentItemToView})),t=e&&e.item,r=b((function(e){return e.ingridients.items})),n=t&&t.ingredients.map((function(e){return{image:r.filter((function(t){return t._id===e}))[0].image,price:r.filter((function(t){return t._id===e}))[0].price,name:r.filter((function(t){return t._id===e}))[0].name}})).slice(0,5),a=n&&n.reduce((function(e,t){return e+t.price}),0);return Object(x.jsx)(x.Fragment,{children:e?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:F.a.modal,children:[Object(x.jsxs)("p",{className:"".concat(F.a.center," text text_type_digits-default mb-2"),children:["#",t&&t.number]}),Object(x.jsx)("p",{className:"text text_type_main-medium",children:t.name}),"done"===t.status?Object(x.jsx)("p",{className:"".concat(F.a.done_clr," mb-10"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}):Object(x.jsx)("p",{className:"mb-10",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(x.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(x.jsx)("ul",{children:n&&n.map((function(e,t){return Object(x.jsxs)("li",{className:F.a.flex_row,children:[Object(x.jsxs)("div",{className:F.a.flex_center,children:[Object(x.jsx)("img",{className:F.a.img,src:e.image,alt:"-"}),Object(x.jsx)("span",{className:"p-3",children:e.name})]}),Object(x.jsxs)("div",{className:"".concat(F.a.flex_center," mb-3"),children:[Object(x.jsxs)("span",{className:"p-2",children:["bun"===e.type?"2":"1"," x ",e.price]}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(x.jsxs)("div",{className:F.a.flex_row,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-3",children:t.time}),Object(x.jsxs)("div",{className:F.a.flex_center,children:[Object(x.jsx)("span",{className:"text text_type_main-medium p-2",children:a}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]})]})]})}):Object(x.jsx)("div",{children:"\u0414\u0430\u0439 \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u043e \u043c\u0430\u0440\u043c\u044b\u0448\u043a\u0430\u0445"})})},P=r(2),A=r(6),U=r.n(A),q=r(10);function G(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(r=Object(P.a)({path:"/"},r)).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in r){c+="; "+s;var i=r[s];!0!==i&&(c+="="+i)}document.cookie=c}var L="https://norma.nomoreparties.space/api",W=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/ingredients",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(q.a)(U.a.mark((function e(){var t,r,n,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"alla",r=a.length>1?a[1]:void 0,e.next=4,re("/orders",t,r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(q.a)(U.a.mark((function e(){var t,r,n,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"alla",r=a.length>1?a[1]:void 0,e.next=4,re("/password-reset",t,r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te("/password-reset/reset",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te("/auth/register",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te("/auth/login",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(q.a)(U.a.mark((function e(t){var r,n,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,re("/auth/logout",t,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re("/auth/token",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/auth/user",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(q.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/auth/user",t,r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(q.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/orders/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(q.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L).concat(t),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch '".concat(t,"', received '").concat(n.status,"'"));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(q.a)(U.a.mark((function e(t,r){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L).concat(t),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},redirect:"follow",referrerPolicy:"no-referrer"});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch '".concat(t,"', received '").concat(n.status,"'"));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(q.a)(U.a.mark((function e(t){var r,n,a,c=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},n={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)},e.next=4,fetch("".concat(L).concat(t),n);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(a.status));case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(q.a)(U.a.mark((function e(t,r){var n,a,c,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,a=n?{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(Object(P.a)(Object(P.a)({},n),{},{token:r}))}:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r})},e.next=4,fetch("".concat(L).concat(t),a);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(c.status));case 7:return e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(q.a)(U.a.mark((function e(t,r){var n,a,c,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},a={method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)},e.next=4,fetch("".concat(L).concat(t),a);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(c.status));case 7:return e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ae="GET_ORDER_REQUEST",ce="GET_ORDER_SUCCESS",se="GET_ORDER_FAILED",ie="ADD_ITEM_TO_CONSTRUCTOR",oe="DELETE_ITEM_FROM_CONSTRUCTOR",le="CHANGE_ORDER_OF_ITEMS_IN_CONSTRUCTOR",ue=function(){return{type:se}},de=function(e){return function(t){var r=G("accessToken");console.log(e),t({type:ae}),M(r,e).then((function(e){e&&e.success?t(function(e){return{type:ce,order:e}}(e)):t(ue())})).catch((function(e){t(ue())}))}},je="GET_ITEMS_REQUEST",me="GET_ITEMS_SUCCESS",be="GET_ITEMS_FAILED",pe="TAB_SWITCH",xe="SET_CURRENT_ITEM_TO_VIEW",_e=function(e){return{type:pe,payload:e}};function Oe(e){return function(t){t({type:xe,currentItemToView:e})}}var fe=function(){return function(e){e({type:je}),W().then((function(t){t&&t.success?e({type:me,items:t.data}):e({type:be})})).catch((function(t){e({type:be})}))}},he=r(3),ge=r.n(he);var ve=function(){return Object(x.jsx)("div",{className:ge.a.container,children:"404"})},ye=r(21),Ne="GET_FORGOT_PASSWORD_REQUEST",Ee="GET_FORGOT_PASSWORD_SUCCESS",we="GET_FORGOT_PASSWORD_FAILED",Te="GET_REGISTER_REQUEST",Se="GET_REGISTER_SUCCESS",Ce="GET_REGISTER_FAILED",Re="GET_RESET_PASSWORD_REQUEST",Ie="GET_RESET_PASSWORD_SUCCESS",ke="GET_RESET_PASSWORD_FAILED",Fe="GET_LOGIN_REQUEST",De="GET_LOGIN_SUCCESS",Pe="GET_LOGIN_FAILED",Ae="GET_LOGOUT_REQUEST",Ue="GET_LOGOUT_SUCCESS",qe="GET_LOGOUT_FAILED",Ge="GET_TOKEN_REQUEST",Be="GET_TOKEN_SUCCESS",Le="GET_TOKEN_FAILED",We="GET_USER_REQUEST",Me="GET_USER_SUCCESS",Ve="GET_USER_FAILED",ze="PATCH_USER_REQUEST",He="PATCH_USER_SUCCESS",Qe="PATCH_USER_FAILED",Je=function(e){return function(t){t({type:Ae}),J(e).then((function(e){e&&e.success?(B("accessToken",null,{expires:-1}),t({type:Ue,payload:e})):t({type:qe,payload:e})})).catch((function(e){t({type:qe,payload:e})}))}},Ke=function(e){return function(t){t({type:We}),X(e).then((function(e){e&&e.success?t({type:Me,payload:e}):t({type:Ve,payload:e})})).catch((function(e){t({type:Ve,payload:e})}))}},Xe=(r(187),function(){return Object(x.jsx)("div",{className:"loader-wrap",children:Object(x.jsx)("div",{className:"loader"})})});var Ye=function(){var e=p(),t=b((function(e){return e.registration.loginFailed})),r=b((function(e){return e.registration.loginRequest})),n=b((function(e){return e.registration.user})),c=a.a.useState({email:"",password:""}),s=Object(i.a)(c,2),d=s[0],j=s[1],m=function(e){j(Object(P.a)(Object(P.a)({},d),{},Object(ye.a)({},e.target.name,e.target.value)))},_=function(t){var r;t.preventDefault(),e((r=d,function(e){e({type:Fe}),Q(r).then((function(t){t&&t.success?(B("accessToken",t.accessToken.split("Bearer ")[1]),e({type:De,payload:t})):e({type:Pe,payload:t})})).catch((function(t){e({type:Pe,payload:t})}))}))};return n?Object(x.jsx)("div",{className:"".concat(ge.a.container," "),children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)("p",{className:"text text_type_main-medium m-3 mt-15",children:Object(x.jsx)(l.a,{to:"/"})})})}):r?Object(x.jsx)("div",{className:"".concat(ge.a.container," "),children:Object(x.jsx)(Xe,{})}):Object(x.jsx)("div",{className:"".concat(ge.a.container," "),children:Object(x.jsxs)("div",{className:"".concat(ge.a.registration),children:[Object(x.jsx)("p",{className:"text text_type_main-medium m-3 mt-15",children:"\u0412\u0445\u043e\u0434"}),Object(x.jsx)("p",{className:"".concat(ge.a.text_color_error," text text_type_main-default m-3 colors-interface-error"),children:t.message}),Object(x.jsxs)("form",{onSubmit:function(e){return _(e)},children:[Object(x.jsx)(o.Input,{type:"text",placeholder:"E-mail",onChange:m,value:d.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.PasswordInput,{onChange:m,value:d.password,name:"password"}),Object(x.jsx)(o.Button,{type:"primary",size:"large",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(x.jsxs)("p",{className:"text text_type_main-default text_color_inactive m-3 mt-15",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(x.jsx)(u.b,{to:"/register",className:ge.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(x.jsxs)("p",{className:"text text_type_main-default text_color_inactive m-3",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(x.jsx)(u.b,{to:"/forgot-password",className:ge.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})};var Ze=function(){var e=p(),t=b((function(e){return e.registration.registerRequest})),r=b((function(e){return e.registration.registerFailed})),n=b((function(e){return e.registration.user})),c=a.a.useState({name:"",email:"",password:""}),s=Object(i.a)(c,2),d=s[0],j=s[1],m=function(e){j(Object(P.a)(Object(P.a)({},d),{},Object(ye.a)({},e.target.name,e.target.value)))},_=a.a.useRef(null),O=function(t){var r;t.preventDefault(),e((r=d,function(e){e({type:Te}),H(r).then((function(t){t&&t.success?(B("accessToken",t.accessToken.split("Bearer ")[1]),e({type:Se,payload:t})):e({type:Ce,payload:t})})).catch((function(t){e({type:Ce,payload:t})}))}))};return n?Object(x.jsx)("div",{className:"".concat(ge.a.container," "),children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)("p",{className:"text text_type_main-medium m-3 mt-15",children:Object(x.jsx)(l.a,{to:"/profile"})})})}):t?Object(x.jsx)("div",{className:"".concat(ge.a.container," "),children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)("p",{className:"m-3 mt-15",children:Object(x.jsx)(Xe,{})})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsxs)("div",{className:"".concat(ge.a.registration),children:[Object(x.jsx)("p",{className:"text text_type_main-medium m-3 mt-15",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),r?Object(x.jsxs)("p",{className:"".concat(ge.a.text_color_error," text text_type_main-default m-3 colors-interface-error"),children:["Error: ",r.message?r.message:"TBC"]}):Object(x.jsx)("p",{className:"".concat(ge.a.text_color_error," text text_type_main-default m-3 colors-interface-error")}),Object(x.jsxs)("form",{onSubmit:function(e){return O(e)},children:[Object(x.jsx)(o.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:m,value:d.name,name:"name",error:!1,ref:_,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.Input,{type:"email",placeholder:"E-mail",onChange:m,value:d.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.PasswordInput,{onChange:m,value:d.password,name:"password"}),Object(x.jsx)(o.Button,{type:"primary",size:"large",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(x.jsxs)("p",{className:"text text_type_main-default text_color_inactive m-3 mt-15",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(x.jsx)(u.b,{to:"/login",className:ge.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})},$e=function(){var e=p(),t=b((function(e){return e.registration.forgotPasswordData})),r=b((function(e){return e.registration.forgotPasswordRequest})),n=b((function(e){return e.registration.forgotPasswordFailed})),c=a.a.useState({email:"",password:""}),s=Object(i.a)(c,2),d=s[0],j=s[1],m=a.a.useRef(null),_=function(t){var r;t.preventDefault(),e((r={email:d.email},function(e){localStorage.setItem("isForgotEmail",(!0).toString()),e({type:Ne}),V("lala",r).then((function(t){t&&t.success?e({type:Ee,payload:t}):e({type:we,payload:t})})).catch((function(t){e({type:we,payload:t})}))}))};return r?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)(Xe,{})})}):localStorage.getItem("isForgotEmail")?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)(l.a,{to:"/reset-password"})})}):n?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsxs)("p",{children:["alert error ",n]})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsxs)("div",{className:"".concat(ge.a.registration),children:[Object(x.jsx)("p",{className:"text text_type_main-medium m-3 mt-15",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(x.jsxs)("form",{onSubmit:function(e){return _(e)},children:[Object(x.jsx)(o.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:function(e){j(Object(P.a)(Object(P.a)({},d),{},Object(ye.a)({},e.target.name,e.target.value)))},value:d.email,name:"email",error:!1,ref:m,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),(null===t||void 0===t?void 0:t.message)?Object(x.jsx)("p",{children:t.message}):"",Object(x.jsx)(o.Button,{type:"primary",size:"large",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(x.jsxs)("p",{className:"text text_type_main-default text_color_inactive m-3 mt-15",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(x.jsx)(u.b,{to:"/login",className:ge.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})};function et(){var e,t=p(),r=b((function(e){return e.registration.resetPasswordData})),n=b((function(e){return e.registration.resetPasswordRequest})),c=b((function(e){return e.registration.resetPasswordFailed})),s=a.a.useState({token:"",password:"",email:""}),d=Object(i.a)(s,2),j=d[0],m=d[1],_=function(e){m(Object(P.a)(Object(P.a)({},j),{},Object(ye.a)({},e.target.name,e.target.value)))},O=function(e){var r;e.preventDefault(),t((r=j,function(e){e({type:Re}),z(r).then((function(t){t&&t.success?e({type:Ie,payload:t}):e({type:ke,payload:t})})).catch((function(t){e({type:ke,payload:t})}))}))},f=Object(l.g)();return a.a.useEffect((function(){(e=localStorage.getItem("isForgotEmail"))||f.replace({pathname:"/login",state:{from:"/"}})}),[e]),n?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)(Xe,{})})}):r?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsx)(l.a,{to:"/login"})})}):c?Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:"".concat(ge.a.registration),children:Object(x.jsxs)("p",{children:["error ",c]})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsxs)("div",{className:"".concat(ge.a.registration),children:["\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",Object(x.jsx)(o.PasswordInput,{onChange:_,value:j.password,name:"password"}),Object(x.jsxs)("form",{onSubmit:function(e){return O(e)},children:[Object(x.jsx)(o.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:_,value:j.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.Button,{type:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(x.jsxs)("p",{children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(x.jsx)(u.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})}var tt=r(11),rt=r.n(tt),nt=function(e){var t,r,n=e.data,a=b((function(e){return e.ingridients.items})),c=[];return 0!==a.length&&(c=(t=n.ingredients.map((function(e){var t,r,n=a.filter((function(t){return t._id===e}));return n[0]&&(t=n[0].image,r=n[0].price),{image:t,price:r}})).slice(0,5)).slice(0,5),r=t.reduce((function(e,t){return e+t.price}),0)),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("li",{className:"".concat(rt.a.card," m-1"),children:[Object(x.jsxs)("div",{className:rt.a.flex_row,children:[Object(x.jsxs)("p",{className:"text text_type_digits-default pt-3",children:["#",e.data.number]}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-3",children:e.data.createdAt})]}),Object(x.jsx)("p",{className:"text text_type_main-small pt-3",children:e.data.name}),"done"===e.data.status?Object(x.jsx)("p",{className:"".concat(rt.a.done_clr," mb-10s"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}):"pending"===e.data.status?Object(x.jsx)("p",{className:"mb-10",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}):Object(x.jsx)("p",{className:"mb-10",children:"\u0421\u043e\u0437\u0434\u0430\u043d"}),Object(x.jsxs)("div",{className:rt.a.flex_row,children:[Object(x.jsx)("ul",{className:rt.a.images,children:c.map((function(e,t){return Object(x.jsx)("li",{className:"".concat(rt.a.round),children:Object(x.jsx)("img",{className:rt.a.img,src:e.image,alt:"-"})},t)}))}),Object(x.jsxs)("div",{className:rt.a.flex_center,children:[Object(x.jsx)("span",{className:"text text_type_main-medium p-2",children:r}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]})]})]})})},at=function(e){var t=Object(l.j)().path,r=Object(l.g)(),n=Object(l.h)(),a=e.orders;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:rt.a.overflow,children:Object(x.jsx)("ul",{children:a?a.map((function(a,c){return Object(x.jsx)("div",{onClick:function(c){!function(a,c){var s={type:"order",item:c};e.modal.openModal(a,s),r.push({pathname:"".concat(t,"/").concat(c.number),state:{background:n}})}(c,a)},children:Object(x.jsx)(nt,{data:a})},c)})):Object(x.jsx)("div",{children:Object(x.jsx)(Xe,{})})})})})},ct=function(){var e=b((function(e){return e.feed.wsFeedData.orders})),t=null,r=null;e&&(t=e.filter((function(e){return"done"===e.status})).slice(0,10),r=e.filter((function(e){return"done"===e.status})).slice(10,20));var n=null,a=null;e&&(n=e.filter((function(e){return"pending"===e.status})).slice(0,10),a=e.filter((function(e){return"pending"===e.status})).slice(10,20));var c=b((function(e){return e.feed.wsFeedData.total})),s=b((function(e){return e.feed.wsFeedData.totalToday}));return Object(x.jsxs)("div",{className:"".concat(rt.a.overflow," p-3"),children:[Object(x.jsxs)("div",{className:"".concat(rt.a.flex_row),children:[Object(x.jsxs)("div",{className:"".concat(rt.a.done),children:[Object(x.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(x.jsxs)("div",{className:"".concat(rt.a.list_inner),children:[Object(x.jsx)("ul",{children:t?t.map((function(e,t){return Object(x.jsx)("li",{className:"".concat(rt.a.done_clr," text text_type_digits-default mb-2"),children:e.number},t)})):Object(x.jsx)(Xe,{})}),Object(x.jsx)("ul",{children:r?r.map((function(e,t){return Object(x.jsx)("li",{className:"".concat(rt.a.done_clr," text text_type_digits-default mb-2"),children:e.number},t)})):Object(x.jsx)(Xe,{})})]})]}),Object(x.jsxs)("div",{className:rt.a.done,children:[Object(x.jsx)("h3",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(x.jsxs)("div",{className:"".concat(rt.a.list_inner),children:[Object(x.jsx)("ul",{children:n?n.map((function(e,t){return Object(x.jsx)("li",{className:"text text_type_digits-default mb-2",children:e.number},t)})):Object(x.jsx)(Xe,{})}),Object(x.jsx)("ul",{children:a?a.map((function(e,t){return Object(x.jsx)("li",{className:"text text_type_digits-default mb-2",children:e.number},t)})):Object(x.jsx)(Xe,{})})]})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),c?Object(x.jsx)("p",{className:"".concat(rt.a.shinny_clr," text text_type_digits-large"),children:c}):Object(x.jsx)(Xe,{})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),s?Object(x.jsx)("p",{className:"".concat(rt.a.shinny_clr," text text_type_digits-large"),children:s}):Object(x.jsx)(Xe,{})]})]})},st="WS_CONNECTION_START",it="WS_CONNECTION_SUCCESS",ot="WS_CONNECTION_ERROR",lt="WS_GET_MESSAGE",ut="WS_SEND_MESSAGE",dt="WS_CONNECTION_CLOSED",jt="WS_CONNECTION_AUTH_START",mt="WS_CONNECTION_AUTH_SUCCESS",bt="WS_CONNECTION_AUTH_ERROR",pt="WS_GET_MESSAGE_AUTH",xt="WS_SEND_MESSAGE_AUTH",_t="WS_CONNECTION_AUTH_CLOSED",Ot="ORDER_ID_REQUEST",ft="ORDER_ID_SUCCESS",ht="ORDER_ID_FAILED",gt=function(){return{type:ht}},vt=function(e){return function(t){t({type:Ot}),Z(e).then((function(e){e&&e.success?t(function(e){return{type:ft,payload:e}}(e)):t(gt())})).catch((function(e){t(gt())}))}},yt=function(e){var t=p(),r=b((function(e){return e.feed.wsFeedData.orders}));return Object(n.useEffect)((function(){t({type:st})}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:ge.a.column,children:Object(x.jsx)("p",{className:"text text_type_main-large",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})})}),Object(x.jsxs)("div",{className:"".concat(ge.a.row),children:[Object(x.jsx)("div",{className:"".concat(ge.a.column," ").concat(ge.a.left),children:Object(x.jsx)(at,{modal:e.modal,orders:r})}),Object(x.jsx)("div",{className:"".concat(ge.a.column," ").concat(ge.a.right),children:Object(x.jsx)(ct,{})})]})]})};function Nt(){var e=Object(l.i)(),t=p();a.a.useEffect((function(){t(vt(e.id))}),[t,e.id]);var r,n,c=b((function(e){return e.feed.orderId})),s=b((function(e){return e.ingridients.items})),i=[];return c&&0!==s.length&&(i=r=c.ingredients.map((function(e){var t,r,n,a=s.filter((function(t){return t._id===e}));return a[0]&&(t=a[0].image,r=a[0].price,n=a[0].name),{image:t,price:r,name:n}})),n=r.reduce((function(e,t){return e+t.price}),0)),c?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:ge.a.container,children:[Object(x.jsxs)("p",{className:"".concat(ge.a.center," text text_type_digits-default mb-2"),children:["#",c.number]}),Object(x.jsx)("p",{className:"text text_type_main-medium",children:c.name}),c.status?Object(x.jsx)("p",{className:"".concat(ge.a.done_clr," mb-10"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}):Object(x.jsx)("p",{className:"mb-10",children:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(x.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(x.jsx)("ul",{children:i.map((function(e,t){return Object(x.jsxs)("li",{className:ge.a.flex_row,children:[Object(x.jsxs)("div",{className:ge.a.flex_center,children:[Object(x.jsx)("img",{className:ge.a.img,src:e.image,alt:"-"}),Object(x.jsx)("span",{className:"p-3",children:e.name})]}),Object(x.jsxs)("div",{className:"".concat(ge.a.flex_center," mb-3"),children:[Object(x.jsxs)("span",{className:"p-2",children:["bun"===e.type?"2":"1"," x ",e.price]}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(x.jsxs)("div",{className:ge.a.flex_row,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-3",children:c.createdAt}),Object(x.jsxs)("div",{className:ge.a.flex_center,children:[Object(x.jsx)("span",{className:"text text_type_main-medium p-2",children:n}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]})]})]})}):Object(x.jsx)("div",{children:"lalala"})}var Et=function(){var e,t=p(),r=b((function(e){return e.registration.user}));e=r?Object(P.a)(Object(P.a)({},r),{},{password:""}):{name:"",email:"",password:""};var n=a.a.useState(e),c=Object(i.a)(n,2),s=c[0],u=c[1],d=function(e){u(Object(P.a)(Object(P.a)({},s),{},Object(ye.a)({},e.target.name,e.target.value)))},j=function(e){e.preventDefault(),t(function(e){return function(t){var r=G("accessToken");t({type:ze}),Y(r,e).then((function(e){e&&e.success?(t({type:He,payload:e}),alert("User information was updated successfully")):t({type:Qe,payload:e})})).catch((function(e){t({type:Qe,payload:e})}))}}(s))};return e?Object(x.jsxs)("form",{onSubmit:function(e){return j(e)},children:[Object(x.jsx)(o.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return d(e)},icon:"EditIcon",value:null===s||void 0===s?void 0:s.name,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.Input,{type:"text",placeholder:"E-mail",onChange:function(e){return d(e)},icon:"EditIcon",value:null===s||void 0===s?void 0:s.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return d(e)},icon:"EditIcon",value:s.password,name:"password",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),Object(x.jsx)(o.Button,{type:"secondary",onClick:function(){console.log("cancel - tbc")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(x.jsx)(o.Button,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):Object(x.jsx)(l.a,{to:"/login"})},wt=r(27),Tt=function(e){var t=e.children,r=Object(wt.a)(e,["children"]),a=b((function(e){return e.registration.user})),c=p(),s=function(){var e=Object(q.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=G("accessToken"),c(Ke(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),Object(x.jsx)(l.b,Object(P.a)(Object(P.a)({},r),{},{render:function(e){var r=e.location;return a?t:Object(x.jsx)(l.a,{to:{pathname:"/login",state:{from:r}}})}}))},St=function(e){var t=localStorage.getItem("refreshToken"),r=p(),a=b((function(e){var t;return null===(t=e.feed.wsFeedDataAuth)||void 0===t?void 0:t.orders}));return Object(n.useEffect)((function(){r({type:jt})}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:ge.a.container}),Object(x.jsxs)("div",{className:"".concat(ge.a.row),children:[Object(x.jsxs)("div",{className:"".concat(ge.a.column," ").concat(ge.a.left," ").concat(ge.a.flex_column," ml-10"),children:[Object(x.jsx)(u.c,{exact:!0,to:"/profile",className:"".concat(ge.a.sidebar__link," text text_type_main-medium text_color_inactive m-3"),activeClassName:ge.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(x.jsx)(u.c,{to:"/profile/orders",className:"".concat(ge.a.sidebar__link," text text_type_main-medium text_color_inactive m-3"),activeClassName:ge.a.active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0417\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(x.jsx)("div",{onClick:function(e){e.preventDefault(),r(Je(t))},className:"".concat(ge.a.sidebar__link," text text_type_main-medium text_color_inactive m-3"),children:"\u0412\u044b\u0445\u043e\u0434"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive m-3",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(x.jsx)("div",{className:"".concat(ge.a.column," ").concat(ge.a.right),children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(Tt,{path:"/profile",exact:!0,children:Object(x.jsx)(Et,{})}),Object(x.jsx)(Tt,{path:"/profile/orders",exact:!0,children:Object(x.jsx)(at,{modal:e.modal,orders:a})}),Object(x.jsx)(Tt,{children:"Watt?"})]})})]})]})};var Ct=function(){var e=b((function(e){return e.ingridients.items})),t=Object(l.i)().id,r={type:"ingridient",item:e.find((function(e){return e._id===t}))},n=p();return a.a.useEffect((function(){n(fe())}),[n]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)(I,{currentItemToView:r})})})},Rt=r(16),It=r.n(Rt),kt=function(e){var t=e;return Object(x.jsx)(x.Fragment,{children:"name"!==t.buns.name?Object(x.jsx)("div",{className:It.a.flex,children:Object(x.jsx)("div",{className:"".concat(It.a.center," pb-2"),children:Object(x.jsx)(o.ConstructorElement,{text:t.buns.name,thumbnail:t.buns.image,price:t.buns.price,type:t.type,isLocked:!0})})}):Object(x.jsx)("div",{className:It.a.template,children:"\u041a\u0438\u0434\u0430\u0439 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043e\u0447\u043a\u0438"})})},Ft=r(194),Dt=r(195),Pt=function(e){var t=e.item,r=e.index,a=p(),c=Object(n.useRef)(null),s=Object(Ft.a)({accept:"choosen",drop:function(e){if(c.current){var t=e.index;t!==r&&function(e,t){a({type:le,dragIndex:e,hoverIndex:t})}(t,r)}}}),l=Object(i.a)(s,2)[1],u=Object(Dt.a)({type:"choosen",item:function(){return{item:t,index:r}},collect:function(e){return{isDragging:e.isDragging()}}}),d=Object(i.a)(u,2),j=d[0].isDragging;(0,d[1])(l(c));var m=j?.5:1;return Object(x.jsxs)("div",{ref:c,className:" ".concat(It.a.center,"  pb-2"),style:Object(P.a)(Object(P.a)({},{cursor:"move"}),{},{opacity:m}),children:[Object(x.jsx)(o.DragIcon,{type:"primary"}),Object(x.jsx)(o.ConstructorElement,{text:t.name,thumbnail:t.image,price:t.price,handleClose:function(){a({type:oe,index:r})}})]})},At=function(e){var t=e;return Object(x.jsx)("div",{className:"".concat(It.a.overflow,"  \n        ").concat(It.a.test),children:t.items[0]?t.items.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)(Pt,{item:e,index:t})},t)})):Object(x.jsx)("div",{className:It.a.template,children:"\u0421\u044e\u0434\u0430 \u043a\u0438\u0434\u0430\u0439 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b"})})},Ut=function(e){var t=b((function(e){return e.burgerConstructor.totalPrice})),r=b((function(e){return e.burgerConstructor.chosenBuns})),n=b((function(e){return e.registration.user})),a=Object(l.g)(),c=Object(l.h)();return Object(x.jsx)(x.Fragment,{children:"name"!==r.name?Object(x.jsxs)("div",{className:"".concat(It.a.flex," ").concat(It.a.confirm_block),children:[Object(x.jsxs)("div",{className:It.a.total,children:[Object(x.jsx)("span",{className:"text text_type_main-large",children:t}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]}),Object(x.jsx)(o.Button,{type:"primary",onClick:function(){n?(e.modal.openModal(),a.push({pathname:"/order_confirmation",state:{background:c}})):a.push({pathname:"/login",state:{from:c}})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}):Object(x.jsx)("div",{})})},qt=function(e){var t=b((function(e){return e.burgerConstructor.chosenItems})),r=b((function(e){return e.burgerConstructor.chosenBuns})),n=p(),a=Object(Ft.a)({accept:"ingridients",drop:function(e){n({type:ie,item:e})}}),c=Object(i.a)(a,2)[1];return Object(x.jsxs)("div",{ref:c,children:[Object(x.jsx)(kt,{buns:r,type:"top"}),Object(x.jsx)(At,{items:t}),Object(x.jsx)(kt,{buns:r,type:"bottom"}),Object(x.jsx)(Ut,{modal:e.modal})]})},Gt=r(48),Bt=r.n(Gt),Lt=r(74),Wt=r.n(Lt),Mt=function(e){var t=b((function(e){return e.burgerConstructor.chosenItems})),r=b((function(e){return e.burgerConstructor.chosenBuns})),n=0;return"bun"===e.data.type?r&&(n=r._id===e.data._id?1:0):t&&(n=t.filter((function(t){return t._id===e.data._id})).length),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{position:"relative"},children:0!==n?Object(x.jsx)(o.Counter,{count:n}):""}),Object(x.jsx)("img",{className:Wt.a.img,src:e.data.image,alt:"burger"}),Object(x.jsxs)("div",{className:Wt.a.total,children:[Object(x.jsx)("span",{className:"text text_type_digits-default",children:e.data.price}),Object(x.jsx)(o.CurrencyIcon,{type:"primary"})]}),Object(x.jsx)("p",{className:"text text_type_main-default",children:e.data.name})]})},Vt=function(e){var t=Object(l.g)(),r=Object(l.h)(),n=e.item,a=Object(Dt.a)({type:"ingridients",item:n,collect:function(e){return{isDrag:e.isDragging()}}}),c=Object(i.a)(a,2)[1];return Object(x.jsx)("li",{className:Bt.a.card,onClick:function(a){var c={type:"ingridient",item:n};e.onClick.openModal(a,c),t.push({pathname:"/ingredients/".concat(n._id),state:{background:r}})},ref:c,children:Object(x.jsx)(Mt,{data:n})})},zt=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("ul",{className:Bt.a.list_by_type,children:e.data.map((function(t,r){return Object(x.jsx)("div",{children:Object(x.jsx)(Vt,{item:t,onClick:e.onClick})},r)}))})})},Ht=r(42),Qt=r.n(Ht),Jt=function(e){var t=p(),r=b((function(e){return e.ingridients.items})),n=b((function(e){return e.ingridients.currentTab})),c=r.filter((function(e){return"bun"===e.type})),s=r.filter((function(e){return"sauce"===e.type})),i=r.filter((function(e){return"main"===e.type})),l=a.a.useRef(null),u=a.a.useRef(null),d=a.a.useRef(null),j=a.a.useRef(null);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)(o.Tab,{value:"one",active:"buns"===n,onClick:function(){l.current&&(l.current.scrollIntoView(),t(_e("buns")))},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(x.jsx)(o.Tab,{value:"two",active:"sauces"===n,onClick:function(){u.current&&(u.current.scrollIntoView(),t(_e("sauces")))},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(x.jsx)(o.Tab,{value:"three",active:"mains"===n,onClick:function(){d.current&&(d.current.scrollIntoView(),t(_e("mains")))},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(x.jsxs)("div",{ref:j,className:Qt.a.overflow,onScroll:function(){var e,r;l.current&&j.current&&(e=l.current.getBoundingClientRect().top-j.current.getBoundingClientRect().top),u.current&&j.current&&(r=u.current.getBoundingClientRect().top-j.current.getBoundingClientRect().top),t(_e(e&&e>=-210?"buns":r&&r>=-485?"sauces":"mains"))},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{ref:l,className:"".concat(Qt.a.headers," text text_type_main-medium"),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(x.jsx)(zt,{data:c,onClick:e.modal})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{ref:u,className:"".concat(Qt.a.headers," text text_type_main-medium"),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(x.jsx)(zt,{data:s,onClick:e.modal})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{ref:d,className:"".concat(Qt.a.headers," text text_type_main-medium"),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(x.jsx)(zt,{data:i,onClick:e.modal})]})]})]})},Kt=r(193),Xt=r(100),Yt=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:ge.a.container,children:Object(x.jsx)("div",{className:ge.a.column,children:Object(x.jsx)("p",{className:"text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"})})}),Object(x.jsx)(Kt.a,{backend:Xt.a,children:Object(x.jsxs)("div",{className:"".concat(ge.a.row),children:[Object(x.jsx)("div",{className:"".concat(ge.a.column," ").concat(ge.a.left),children:Object(x.jsx)(Jt,{modal:e.modal})}),Object(x.jsx)("div",{className:"".concat(ge.a.column," ").concat(ge.a.right),id:"burger_constructor",children:Object(x.jsx)(qt,{modal:e.modal})})]})})]})},Zt=function(e){var t,r,a,c,s=e.children,i=Object(wt.a)(e,["children"]),o=b((function(e){return e.registration.user})),u=b((function(e){return e.registration.userRequest})),d=p(),j=Object(l.h)(),m=function(){var e=Object(q.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=G("accessToken"),d(Ke(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){m()}),[]),u)return Object(x.jsx)(x.Fragment,{});var _=(null===j||void 0===j||null===(t=j.state)||void 0===t||null===(r=t.from)||void 0===r?void 0:r.pathname)?null===j||void 0===j||null===(a=j.state)||void 0===a||null===(c=a.from)||void 0===c?void 0:c.pathname:{state:{from:"/"}};return Object(x.jsx)(l.b,Object(P.a)(Object(P.a)({},i),{},{render:function(e){e.location;return o?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.a,{to:_})}):s}}))},$t=function(){var e=p(),t=Object(l.g)(),r=Object(l.h)(),n=a.a.useState(!1),c=Object(i.a)(n,2),s=c[0],o=c[1],u=b((function(e){return e.burgerConstructor.chosenBuns})),d=b((function(e){return e.burgerConstructor.chosenItems})),j=function(t,r){if(void 0!==r)e(Oe(r));else{var n=d.map((function(e){return e._id}));n.push(u._id),n.splice(1,0,u._id),e(de({ingredients:n}))}o(!0)},m=function(){var n,a;e(Oe(null)),o(!1),e({type:"ORDER_RESET"}),(null===r||void 0===r||null===(n=r.state)||void 0===n||null===(a=n.background)||void 0===a?void 0:a.pathname)&&t.push("".concat(r.state.background.pathname))};a.a.useEffect((function(){e(fe())}),[e]),a.a.useEffect((function(){return document.addEventListener("keyup",O),function(){document.removeEventListener("keyup",O)}}));var O=function(e){27===e.keyCode&&(e.preventDefault(),m())},f=b((function(e){return e.ingridients.currentItemToView})),h=Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N,{header:"order"===(null===f||void 0===f?void 0:f.type)?"\u0414\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u043a\u0430\u0437\u0430":"ingridient"===(null===f||void 0===f?void 0:f.type)?"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u0430":"\u0417\u0430\u043a\u0430\u0437",onClose:m,children:(null===f||void 0===f?void 0:f.item)?"ingridient"===(null===f||void 0===f?void 0:f.type)?Object(x.jsx)(I,{currentItemToView:f}):Object(x.jsx)(D,{}):Object(x.jsx)(S,{})})});a.a.useEffect((function(){var t;localStorage.getItem("refreshToken")&&e((t=localStorage.getItem("refreshToken"),function(e){e({type:Ge}),K(t).then((function(t){t&&t.success?(B("accessToken",t.accessToken.split("Bearer ")[1]),e({type:Be,payload:t})):e({type:Le,payload:t})})).catch((function(t){e({type:Le,payload:t})}))}))}),[e]),a.a.useEffect((function(){localStorage.getItem("refreshToken")&&e(Ke(localStorage.getItem("refreshToken")))}),[e]);var g=("PUSH"===t.action||"REPLACE"===t.action)&&r.state&&r.state.background;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_,{}),Object(x.jsxs)(l.d,{location:g||r,children:[Object(x.jsx)(Zt,{path:"/login",exact:!0,children:Object(x.jsx)(Ye,{})}),Object(x.jsx)(Zt,{path:"/register",exact:!0,children:Object(x.jsx)(Ze,{})}),Object(x.jsx)(Zt,{path:"/forgot-password",exact:!0,children:Object(x.jsx)($e,{})}),Object(x.jsx)(Zt,{path:"/reset-password",exact:!0,children:Object(x.jsx)(et,{})}),Object(x.jsx)(l.b,{path:"/feed",exact:!0,children:Object(x.jsx)(yt,{modal:{openModal:j}})}),Object(x.jsx)(l.b,{path:"/feed/:id",children:Object(x.jsx)(Nt,{})}),Object(x.jsx)(Tt,{path:"/profile/orders/:id",exact:!0,children:Object(x.jsx)(Nt,{})}),Object(x.jsx)(Tt,{path:"/profile",children:Object(x.jsx)(St,{modal:{openModal:j}})}),Object(x.jsx)(l.b,{path:"/ingredients/:id",exact:!0,children:Object(x.jsx)(Ct,{})}),Object(x.jsx)(l.b,{path:"/",exact:!0,children:Object(x.jsx)(Yt,{modal:{openModal:j}})}),Object(x.jsx)(l.b,{children:Object(x.jsx)(ve,{})})]}),g&&Object(x.jsx)(l.b,{path:"ingridients/:id",children:Object(x.jsx)(Ct,{})}),g&&Object(x.jsx)(l.b,{path:"feed/:id",exact:!0,children:Object(x.jsx)(Nt,{})}),g&&Object(x.jsx)(l.b,{path:"profile/orders/:id",exact:!0,children:Object(x.jsx)(Nt,{})}),s&&h]})},er=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,196)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},tr=r(96),rr=r(97),nr=r(102),ar=r(101),cr=r(98),sr=r.n(cr),ir=r.p+"static/media/error-404.4029d097.jpg",or=function(){return Object(x.jsx)("div",{className:sr.a.error_indicator,children:Object(x.jsx)("img",{src:ir,alt:"error icon"})})},lr=function(e){Object(nr.a)(r,e);var t=Object(ar.a)(r);function r(){var e;Object(tr.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(rr.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)(or,{}):this.props.children}}]),r}(n.Component),ur=r(28),dr=r(99),jr={items:[],itemsRequest:!1,itemsFailed:!1,currentItemToView:null,currentTab:"buns"},mr=r(51),br={order:null,orderRequest:!1,orderFailed:!1,chosenItems:[],chosenBuns:{price:0,name:"name",image:"image",_id:"_id"},totalPrice:0,totalPriceBuns:0},pr={forgotPasswordData:null,forgotPasswordRequest:!1,forgotPasswordFailed:!1,resetPasswordData:null,resetPasswordRequest:!1,resetPasswordFailed:!1,registerData:null,registerRequest:!1,registerFailed:!1,loginRequest:!1,loginFailed:!1,logoutRequest:!1,logoutFailed:!1,tokenRequest:!1,tokenFailed:!1,userRequest:!1,userFailed:!1,user:null},xr={wsConnected:!1,wsError:null,wsFeedData:{orders:[],total:0,totalToday:0},wsAuthConnected:!1,wsAuthError:null,wsFeedDataAuth:{orders:[]},orderIdRequest:!1,orderIdFailed:!1,orderId:null},_r=Object(ur.b)({burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(P.a)(Object(P.a)({},e),{},{orderRequest:!0});case ce:return Object(P.a)(Object(P.a)({},e),{},{orderFailed:!1,order:t.order,orderRequest:!1});case se:return Object(P.a)(Object(P.a)({},e),{},{orderFailed:!0,orderRequest:!1});case ie:if("bun"===t.item.type){var r=0;e.chosenItems[0]&&(r=e.chosenItems.reduce((function(e,t){return e+t.price}),0));var n=2*t.item.price+r;return Object(P.a)(Object(P.a)({},e),{},{chosenBuns:t.item,totalPrice:n})}var a=0;e.chosenBuns&&(a=2*e.chosenBuns.price);var c=[].concat(Object(mr.a)(e.chosenItems),[t.item]),s=c.reduce((function(e,t){return e+t.price}),0),i=a+s;return Object(P.a)(Object(P.a)({},e),{},{chosenItems:c,totalPrice:i});case oe:var o=Object(mr.a)(e.chosenItems);o.splice(t.index,1);var l=o.reduce((function(e,t){return e+t.price}),0),u=2*e.chosenBuns.price,d=u+l;return Object(P.a)(Object(P.a)({},e),{},{chosenItems:o,totalPrice:d});case le:var j=e.chosenItems[t.dragIndex];if(j){var m=Object(mr.a)(e.chosenItems);return m.splice(t.dragIndex,1),m.splice(t.hoverIndex,0,j),Object(P.a)(Object(P.a)({},e),{},{chosenItems:m})}return e;default:return e}},ingridients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(P.a)(Object(P.a)({},e),{},{itemsRequest:!0});case me:return Object(P.a)(Object(P.a)({},e),{},{itemsFailed:!1,items:t.items,itemsRequest:!1});case be:return Object(P.a)(Object(P.a)({},e),{},{itemsFailed:!0,itemsRequest:!1});case pe:return Object(P.a)(Object(P.a)({},e),{},{currentTab:t.payload});case xe:return Object(P.a)(Object(P.a)({},e),{},{currentItemToView:t.currentItemToView});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return Object(P.a)(Object(P.a)({},e),{},{userRequest:!0});case Me:return Object(P.a)(Object(P.a)({},e),{},{userFailed:!1,user:t.payload.user,userRequest:!1});case Ve:return Object(P.a)(Object(P.a)({},e),{},{userFailed:t,userRequest:!1,user:null});case ze:return Object(P.a)(Object(P.a)({},e),{},{userRequest:!0});case He:return Object(P.a)(Object(P.a)({},e),{},{userFailed:!1,user:t.payload.user,userRequest:!1});case Qe:return Object(P.a)(Object(P.a)({},e),{},{userFailed:t,userRequest:!1,user:null});case Te:return Object(P.a)(Object(P.a)({},e),{},{registerRequest:!0});case Se:return localStorage.setItem("refreshToken",t.payload.refreshToken),Object(P.a)(Object(P.a)({},e),{},{registerFailed:!1,user:t.payload.user,registerRequest:!1});case Ce:return Object(P.a)(Object(P.a)({},e),{},{registerFailed:t,registerRequest:!1,user:null});case Fe:return Object(P.a)(Object(P.a)({},e),{},{loginRequest:!0});case De:return localStorage.setItem("refreshToken",t.payload.refreshToken),Object(P.a)(Object(P.a)({},e),{},{loginFailed:!1,user:t.payload.user,loginRequest:!1});case Pe:return Object(P.a)(Object(P.a)({},e),{},{loginFailed:t,loginRequest:!1,user:null});case Ae:return Object(P.a)(Object(P.a)({},e),{},{logoutRequest:!0});case Ue:return localStorage.removeItem("refreshToken"),Object(P.a)(Object(P.a)({},e),{},{logoutFailed:!1,user:null,logoutRequest:!1});case qe:return Object(P.a)(Object(P.a)({},e),{},{logoutFailed:t,logoutRequest:!1});case Ge:return Object(P.a)(Object(P.a)({},e),{},{tokenRequest:!0});case Be:return Object(P.a)(Object(P.a)({},e),{},{tokenFailed:!1,tokenRequest:!1});case Le:return Object(P.a)(Object(P.a)({},e),{},{tokenFailed:t,tokenRequest:!1});case Ne:return Object(P.a)(Object(P.a)({},e),{},{forgotPasswordRequest:!0});case Ee:return Object(P.a)(Object(P.a)({},e),{},{forgotPasswordFailed:!1,forgotPasswordData:t.payload,forgotPasswordRequest:!1});case we:return Object(P.a)(Object(P.a)({},e),{},{forgotPasswordFailed:!0,forgotPasswordRequest:!1});case Re:return Object(P.a)(Object(P.a)({},e),{},{resetPasswordRequest:!0});case Ie:return localStorage.removeItem("isForgotEmail"),Object(P.a)(Object(P.a)({},e),{},{resetPasswordFailed:!1,resetPasswordData:t.payload,resetPasswordRequest:!1});case ke:return Object(P.a)(Object(P.a)({},e),{},{resetPasswordFailed:!0,resetPasswordRequest:!1});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:return Object(P.a)(Object(P.a)({},e),{},{wsError:null,wsConnected:!0});case ot:return Object(P.a)(Object(P.a)({},e),{},{wsError:t.payload,wsConnected:!1});case dt:return Object(P.a)(Object(P.a)({},e),{},{wsError:null,wsConnected:!1});case lt:return Object(P.a)(Object(P.a)({},e),{},{wsError:null,wsFeedData:t.payload});case mt:return Object(P.a)(Object(P.a)({},e),{},{wsAuthError:null,wsAuthConnected:!0});case bt:return Object(P.a)(Object(P.a)({},e),{},{wsAuthError:t.payload,wsAuthConnected:!1});case _t:return Object(P.a)(Object(P.a)({},e),{},{wsAuthError:null,wsAuthConnected:!1});case pt:return Object(P.a)(Object(P.a)({},e),{},{wsAuthError:null,wsFeedDataAuth:t.payload});case Ot:return Object(P.a)(Object(P.a)({},e),{},{orderIdRequest:!0});case ft:return Object(P.a)(Object(P.a)({},e),{},{orderIdFailed:!1,orderId:t.payload.orders[0],orderIdRequest:!1});case ht:return Object(P.a)(Object(P.a)({},e),{},{orderIdFailed:!0,orderIdRequest:!1});default:return e}}}),Or=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ur.c)(Object(ur.a)((function(e){var t=null;return function(r){return function(n){var a=e.dispatch,c=n.type,s=n.payload;if(c===st&&(t=new WebSocket("wss://norma.nomoreparties.space/orders/all")),t&&(t.onopen=function(e){a({type:it,payload:e})},t.onerror=function(e){a({type:ot,payload:e})},t.onmessage=function(e){var t=e.data,r=JSON.parse(t),n=(r.success,Object(wt.a)(r,["success"]));a(function(e){return{type:lt,payload:e}}(n))},t.onclose=function(e){a({type:dt,payload:e})},c===ut)){var i=Object(P.a)({},s);t.send(JSON.stringify(i))}r(n)}}}),(function(e){var t=null;return function(r){return function(n){var a=e.dispatch,c=n.type,s=n.payload,i=G("accessToken");if(c===jt&&(t=new WebSocket("".concat("wss://norma.nomoreparties.space/orders","?token=").concat(i))),t&&(t.onopen=function(e){a({type:mt,payload:e})},t.onerror=function(e){a({type:bt,payload:e})},t.onmessage=function(e){var t=e.data,r=JSON.parse(t),n=(r.success,Object(wt.a)(r,["success"]));a({type:pt,payload:n})},t.onclose=function(e){a({type:_t,payload:e})},c===xt)){var o=Object(P.a)({},s);t.send(JSON.stringify(o))}r(n)}}}),dr.a)),fr=Object(ur.d)(_r,Or);s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(lr,{children:Object(x.jsx)(m.a,{store:fr,children:Object(x.jsx)(u.a,{children:Object(x.jsx)($t,{})})})})}),document.getElementById("root")),er()},24:function(e,t,r){e.exports={header__inner:"app-header_header__inner__2etQR",header:"app-header_header__sJ2h6",header__logo:"app-header_header__logo__7MID5",nav:"app-header_nav__1zBpP",nav__link:"app-header_nav__link__2pTRa",active:"app-header_active__3EYN4"}},25:function(e,t,r){e.exports={grid:"order-details-modal_grid__2P7Ik",image:"order-details-modal_image__4jI3Z",name:"order-details-modal_name__mNK1O",modal:"order-details-modal_modal__1aW6d",flex_row:"order-details-modal_flex_row__17gVl",img:"order-details-modal_img__3f20b",container:"order-details-modal_container__14V-e",flex_column:"order-details-modal_flex_column__Ccl7Q",done_clr:"order-details-modal_done_clr__1Hzqi",center:"order-details-modal_center__2CsYD",flex_center:"order-details-modal_flex_center__3bWsz",link:"order-details-modal_link__22pez",sidebar__link:"order-details-modal_sidebar__link__Qrh4i",active:"order-details-modal_active__11KYS",text_color_error:"order-details-modal_text_color_error__g-Cbr"}},3:function(e,t,r){e.exports={container:"pages_container__2r5A2",registration:"pages_registration__1EdNI",row:"pages_row__2hmcd",column:"pages_column__2b6Tx",left:"pages_left__2VFqp",right:"pages_right__2sbrV",flex_row:"pages_flex_row__1uo7A",img:"pages_img__2TEty",flex_column:"pages_flex_column__o5lfo",done_clr:"pages_done_clr__2gv9-",center:"pages_center__2nmoi",flex_center:"pages_flex_center__3ik1Y",link:"pages_link__QBhsC",sidebar__link:"pages_sidebar__link__3w-Ed",active:"pages_active__12vUm",text_color_error:"pages_text_color_error__2ZMum"}},33:function(e,t,r){e.exports={grid:"ingridient-details_grid__el1wA",image:"ingridient-details_image__5ob4P",name:"ingridient-details_name__2l_w9",modal:"ingridient-details_modal__2NXjQ"}},42:function(e,t,r){e.exports={overflow:"burger-ingridients_overflow__2MJtm",headers:"burger-ingridients_headers__14F_S"}},48:function(e,t,r){e.exports={card:"list-by-type_card__LqPBo",list_by_type:"list-by-type_list_by_type__l6Ptu"}},50:function(e,t,r){e.exports={main:"order-details_main__iCVMf",image:"order-details_image__1j9V4",wrapped:"order-details_wrapped__5KAwU"}},72:function(e,t,r){e.exports={modal:"modal_modal__3KKK_",header:"modal_header__1th1X"}},74:function(e,t,r){e.exports={card:"ingridient-card_card__1dCti",img:"ingridient-card_img__1rkya",total:"ingridient-card_total__3pB0o"}},94:function(e,t,r){e.exports={modal_overlay:"modal-overlay_modal_overlay__3uA9n"}},98:function(e,t,r){e.exports={error_indicator:"error-indicator_error_indicator__3b40O","error-indicator":"error-indicator_error-indicator__13emW",boom:"error-indicator_boom__2LT6V"}}},[[188,1,2]]]);
//# sourceMappingURL=main.d9e76b4a.chunk.js.map